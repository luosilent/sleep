<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
	<link href="../css/style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
	<div id="box" class="calendar"></div>
	<a href="javascript:void(0)" class="btn-red btn-sign" id="btnSign">点击签到</a>
	<script type="text/javascript" src="js/calendar.js"></script>
	<script type="text/javascript">
		(function(doc,win){
			var docEl = doc.documentElement,
			resizeEvt = "orientationchange" in window ? "orientationchange" : "resize",
			recalc = function(){
				var clientWidth = docEl.clientWidth;
				if(!clientWidth) return;
				clientWidth = clientWidth > 640 ? 640 : clientWidth;
				docEl.style.fontSize = 20 * (clientWidth / 320) + "px";
			};
			if(!doc.addEventListener) return;
			win.addEventListener(resizeEvt,recalc,false);
			doc.addEventListener('DOMContentLoaded', recalc, false);
		})(document,window);

		var Calendar = new Calendar('box', {
			curDate: new Date(),
			getNextMonthArr: function() {
				return getRandom(20);
			},
			getPrevMonthArr: function() {
				return getRandom(5);
			}
		});
		Calendar.init([1,3,5]);


		Array.prototype.unique = function() {
			this.sort();
			var re = [this[0]];
			for(var i = 1; i <this.length; i++) {
				if(this[i] !== re[re.length-1]) {
					re.push(this[i]);
				}
			}
			return re;
		};

		function getRandom(len) {
			var arr = [];
			for(var i = 0; i < len; i++) {
				var ran = Math.floor(Math.random() * 30);
				arr.push(ran);
			}
			console.log(arr);
			return arr.unique();
		};
	</script>
</body>
</html>